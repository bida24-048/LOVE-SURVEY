<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ðŸ“– Shared Love Vault</title>
<style>
  body { font-family: Arial, sans-serif; text-align: center; background: #fff0f5; }
  h1 { color: #d63384; }
  h2 { color: #b82d7a; margin: 20px 0; }
  ul { list-style: none; padding: 0; }
  li { margin: 5px 0; }
  button { 
    margin: 10px; padding: 10px 20px; 
    background: #25D366; color: white; border: none; border-radius: 8px; 
    font-size: 16px; cursor: pointer;
  }
</style>
</head>
<body>

<h1>ðŸ“– Shared Love Vault</h1>

<h2>Vault ðŸ’–</h2>
<div id="vault">Loading vault...</div>
<button onclick="shareVault()">Share Vault on WhatsApp ðŸ“²</button>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

<script>
  // --- Firebase Config ---
  const firebaseConfig = {
    apiKey: "AIzaSyCngJIx5fSznQSb9LX9ViP0JqX_homhycw",
    authDomain: "website-hub-80846.firebaseapp.com",
    databaseURL: "https://website-hub-80846-default-rtdb.firebaseio.com",
    projectId: "website-hub-80846",
    storageBucket: "website-hub-80846.appspot.com",
    messagingSenderId: "58637132004",
    appId: "1:58637132004:web:8741fc3173ca41a8c20cf1"
  };
  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();

  const vaultDiv = document.getElementById("vault");
  
  // --- Load Vault in real-time ---
  db.ref("vault").on("child_added", snapshot => {
    const item = snapshot.val();
    if(item.type === "message") {
      vaultDiv.innerHTML += `<p>ðŸ“… ${item.date} - ${item.text}</p>`;
    }
    // Add other types later: surveys, plans, promises
  });

  // --- Share vault via WhatsApp ---
  function shareVault() {
    db.ref("vault").once("value").then(snapshot => {
      const data = snapshot.val() || {};
      let text = "ðŸ“–ðŸ’– Shared Love Vault ðŸ’–ðŸ“–\n\n";
      Object.values(data).forEach(item => {
        if(item.type === "message") text += `ðŸ“… ${item.date} - ${item.text}\n`;
      });
      if(text.trim() === "ðŸ“–ðŸ’– Shared Love Vault ðŸ’–ðŸ“–") return alert("Vault is empty ðŸ˜˜");
      
      // Open WhatsApp share with blank contact (user selects)
      const whatsappUrl = "https://wa.me/?text=" + encodeURIComponent(text);
      window.open(whatsappUrl, "_blank");
    });
  }
</script>

</body>
</html>



