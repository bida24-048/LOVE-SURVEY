<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ğŸ“– Shared Love Vault</title>
<style>
  body { font-family: Arial, sans-serif; text-align: center; background: #fff0f5; }
  h1 { color: #d63384; }
  h2 { color: #b82d7a; margin: 20px 0; }
  ul { list-style: none; padding: 0; }
  li { margin: 5px 0; }
  textarea { width: 80%; height: 80px; border-radius: 10px; padding: 10px; border: 2px solid #ff4d88; resize: none; }
  button { 
    margin: 10px; padding: 10px 20px; 
    background: #25D366; color: white; border: none; border-radius: 8px; 
    font-size: 16px; cursor: pointer;
  }
</style>
</head>
<body>

<h1>ğŸ“– Shared Love Vault</h1>

<h2>Leave a Message ğŸ’Œ</h2>
<textarea id="msg" placeholder="Type your message here..."></textarea><br>
<button onclick="saveMessage()">Post ğŸ“</button>

<h2>Vault ğŸ’–</h2>
<div id="vault">Loading vault...</div>
<button onclick="shareVault()">Share Vault on WhatsApp ğŸ“²</button>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

<script>
  // --- Firebase Config ---
  const firebaseConfig = {
    apiKey: "AIzaSyCngJIx5fSznQSb9LX9ViP0JqX_homhycw",
      authDomain: "website-hub-80846.firebaseapp.com",
      databaseURL: "databaseURL: "https://website-hub-80846-default-rtdb.firebaseio.com",
   projectId: "website-hub-80846",
      storageBucket: "website-hub-80846.firebasestorage.app",
      messagingSenderId: "58637132004",
      appId: "1:58637132004:web:8741fc3173ca41a8c20cf1"
  };
  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();

  const vaultDiv = document.getElementById("vault");
  
  // --- Load Vault in real-time ---
  db.ref("vault").on("value", snapshot => {
    const data = snapshot.val() || {};
    let html = "";
    Object.values(data).forEach(item => {
      if(item.type === "message") {
        html += `<p>ğŸ“… ${item.date} - ${item.text}</p>`;
      }
      // You can add other types later: surveys, plans, promises
    });
    vaultDiv.innerHTML = html || "Vault is empty ğŸ˜˜";
  });

  // --- Share vault via WhatsApp ---
  function shareVault() {
    const contact = prompt("Enter WhatsApp number including country code (e.g. 2677xxxxxxx):");
    if (!contact) return;

    db.ref("vault").once("value").then(snapshot => {
      const data = snapshot.val() || {};
      let text = "ğŸ“–ğŸ’– Shared Love Vault ğŸ’–ğŸ“–\n\n";
      Object.values(data).forEach(item => {
        if(item.type === "message") text += `ğŸ“… ${item.date} - ${item.text}\n`;
      });
      if(text.trim() === "ğŸ“–ğŸ’– Shared Love Vault ğŸ’–ğŸ“–") return alert("Vault is empty ğŸ˜˜");
      
      const whatsappUrl = "https://wa.me/" + "?text=" + encodeURIComponent(text);
      window.open(whatsappUrl, "_blank");
    });
  }

</script>

</body>
</html>

      










