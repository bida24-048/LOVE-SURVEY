<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ðŸ“– Our Love Vault</title>
<style>
  body { font-family: Arial, sans-serif; text-align: center; background: #fff0f5; }
  h1 { color: #d63384; }
  h2 { color: #b82d7a; margin: 20px 0; }
  ul { list-style: none; padding: 0; }
  li { margin: 5px 0; }
  button { 
    margin: 15px; padding: 10px 20px; 
    background: #25D366; color: white; border: none; border-radius: 8px; 
    font-size: 16px; cursor: pointer;
  }
</style>
</head>
<body>

<h1>ðŸ“– Our Love Vault</h1>
<div id="vault">Loading vault... ðŸ˜˜</div>
<button onclick="shareVault()">Share Vault on WhatsApp ðŸ“²</button>

<script>
const vaultDiv = document.getElementById("vault");
const sections = ["messages", "plans", "promises", "loveVault"]; // loveVault = surveys

function loadVault() {
  let html = "";
  let hasEntries = false;

  sections.forEach(sec => {
    const items = JSON.parse(localStorage.getItem(sec)) || [];
    if (items.length > 0) {
      hasEntries = true;
      html += `<h2>${sec.toUpperCase()} ðŸ’–</h2><ul>`;
      items.forEach(item => {
        if (item.text) {
          html += `<li><b>${item.date}</b> - ${item.text}</li>`;
        } else if (item.question) {
          html += `<li><b>${item.date}</b> - Q: ${item.question} <br> A: ${item.answer}</li>`;
        } else if (item.title) {
          html += `<li><b>${item.date}</b> - ${item.title} ${item.note ? "- " + item.note : ""}</li>`;
        }
      });
      html += "</ul>";
    }
  });

  vaultDiv.innerHTML = hasEntries ? html : "No entries yet ðŸ˜˜";
}

// --- Share vault via WhatsApp ---
function shareVault() {
  let text = "ðŸ’– My Love Vault Today ðŸ’–\n\n";
  sections.forEach(sec => {
    const items = JSON.parse(localStorage.getItem(sec)) || [];
    if (items.length > 0) {
      text += `${sec.toUpperCase()}:\n`;
      items.forEach(item => {
        if (item.text) text += `- ${item.date}: ${item.text}\n`;
        else if (item.question) text += `- ${item.date}: Q: ${item.question} | A: ${item.answer}\n`;
        else if (item.title) text += `- ${item.date}: ${item.title} ${item.note ? "- " + item.note : ""}\n`;
      });
      text += "\n";
    }
  });

  if (!text) {
    alert("Vault is empty! ðŸ˜˜");
    return;
  }

  const whatsappUrl = "https://wa.me/?text=" + encodeURIComponent(text);
  window.open(whatsappUrl, "_blank");
}

// Load vault on page open
loadVault();
setInterval(loadVault, 5000);
</script>

</body>
</html>




