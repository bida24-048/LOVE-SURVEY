<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ðŸ“– Our Love Vault</title>
<style>
  body { font-family: Arial, sans-serif; text-align: center; background: #fff0f5; }
  h1 { color: #d63384; }
  h2 { color: #b82d7a; margin: 20px 0; }
  ul { list-style: none; padding: 0; }
  li { margin: 5px 0; }
</style>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>
</head>
<body>

<h1>ðŸ“– Our Love Vault</h1>
<div id="vault">Loading vault... </div>

<script>
  // ---- Firebase Config ----
  const firebaseConfig = {
    apiKey: "YOUR_API_KEY",
    authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
    databaseURL: "https://YOUR_PROJECT_ID.firebaseio.com",
    projectId: "YOUR_PROJECT_ID",
    storageBucket: "YOUR_PROJECT_ID.appspot.com",
    messagingSenderId: "YOUR_SENDER_ID",
    appId: "YOUR_APP_ID"
  };
  firebase.initializeApp(firebaseConfig);
  const database = firebase.database();

  const sections = ["promises", "plans", "messages", "surveys"];
  const vaultDiv = document.getElementById("vault");

  function loadVault() {
    vaultDiv.innerHTML = "Loading vault... ";
    let html = "";
    let sectionsLoaded = 0;

    sections.forEach(sec => {
      const ref = firebase.database().ref(sec);
      ref.on("value", snapshot => {
        const items = snapshot.val() || [];
        if (items.length > 0) {
          html += `<h2>${sec.toUpperCase()} ðŸ’–</h2><ul>`;
          items.forEach(item => {
            // Handle different structures: text vs title/note
            if (item.text) {
              html += `<li><b>${item.date}</b> - ${item.text}</li>`;
            } else if (item.title) {
              html += `<li><b>${item.date}</b> - ${item.title} ${item.note ? "- " + item.note : ""}</li>`;
            }
          });
          html += "</ul>";
        }
        sectionsLoaded++;
        if (sectionsLoaded === sections.length) {
          vaultDiv.innerHTML = html || "No entries yet ðŸ˜˜";
        }
      });
    });
  }

  loadVault();
</script>
</body>
</html>


