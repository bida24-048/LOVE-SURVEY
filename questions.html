<!DOCTYPE html>
<html>
<head>
  <title>💌 Daily Love Question</title>
</head>
<body>
<h1>💌 Daily Love Question</h1>
<h2 id="question">Loading question... ✨</h2>
<button class="yes" onclick="saveAnswer('Yes 😍')">Yes 😍</button>
<button class="no" onclick="saveAnswer('No 😢')">No 😢</button><br><br>
<textarea id="thoughts" placeholder="Express your feelings here... ✨"></textarea><br>
<button onclick="saveAnswer(document.getElementById('thoughts').value)">💾 Save</button>
<p id="status"></p>
<h2>My Answers 💖</h2>
<ul id="answerList"></ul>

<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

<script>
const answerListEl = document.getElementById("answerList");
const questions = [
  "Do you love me more today than yesterday? ❤️",
  "Would you hug me tight if I was sad? 🤗",
  "Do you see us together forever? 💍",
  "Would you surprise me with chocolate? 🍫",
  "Do you secretly smile when you see my texts? 😊",
  "Would you dance with me in the rain? 🌧️💃",
  "Do you believe we are soulmates? ✨",
  "Do you want to travel the world with me? 🌍✈️",
  "Will you always support my dreams? 🌟",
  "Do you like my smile? 😁",
  "Would you cuddle with me every night? 🛌❤️",
  "Do you want to grow old together? 👵👴",
  "Will you keep our secrets safe? 🤫",
  "Do you like writing love notes to me? 💌",
  "Will you forgive me if I make mistakes? 💞",
  "Do you want to make me breakfast someday? 🍳",
  "Do you love my quirks? 😘",
  "Would you laugh with me even on bad days? 😂",
  "Do you feel connected to me even when apart? 💖",
  "Will you dance with me at every wedding? 💃🕺",
  "Do you believe in our forever? 🌈",
  "Will you send me random cute messages just because? 💌"
];
const randomIndex = Math.floor(Math.random()*questions.length);
const questionText = questions[randomIndex];
document.getElementById("question").innerText = questionText;

// --- Firebase Config ---
const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
  databaseURL: "https://YOUR_PROJECT_ID-default-rtdb.firebaseio.com",
  projectId: "YOUR_PROJECT_ID",
  storageBucket: "YOUR_PROJECT_ID.appspot.com",
  messagingSenderId: "YOUR_SENDER_ID",
  appId: "YOUR_APP_ID"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.database();

// --- Load local answers ---
function loadLocalAnswers() {
  const answers = JSON.parse(localStorage.getItem("surveys")) || [];
  answerListEl.innerHTML = "";
  answers.forEach(a => {
    const li = document.createElement("li");
    li.textContent = `📅 ${a.date} - Q: ${a.question} A: ${a.answer}`;
    answerListEl.appendChild(li);
  });
}

// --- Save answer ---
function saveAnswer(answer) {
  if(!answer) return alert("Please enter an answer!");

  const data = { question: questionText, answer, date: new Date().toLocaleString() };

  // Save locally
  let answers = JSON.parse(localStorage.getItem("surveys")) || [];
  answers.push(data);
  localStorage.setItem("surveys", JSON.stringify(answers));

  // Save to shared vault
  db.ref("vault").push({ type: "survey", ...data });

  document.getElementById("thoughts").value = "";
  document.getElementById("status").innerText = "Answer saved locally & shared 💕";
  loadLocalAnswers();
}

// Initialize
loadLocalAnswers();
</script>
</body>
</html>
