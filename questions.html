<!DOCTYPE html>
<html>
<head>
  <title>ğŸ’Œ Daily Love Question</title>
</head>
<body>
<h1>ğŸ’Œ Daily Love Question</h1>
<h2 id="question">Loading question... âœ¨</h2>
<button class="yes" onclick="saveAnswer('Yes ğŸ˜')">Yes ğŸ˜</button>
<button class="no" onclick="saveAnswer('No ğŸ˜¢')">No ğŸ˜¢</button><br><br>
<textarea id="thoughts" placeholder="Express your feelings here... âœ¨"></textarea><br>
<button onclick="saveAnswer(document.getElementById('thoughts').value)">ğŸ’¾ Save</button>
<p id="status"></p>
<h2>My Answers ğŸ’–</h2>
<ul id="answerList"></ul>

<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

<script>
const answerListEl = document.getElementById("answerList");
const questions = [
  "Do you love me more today than yesterday? â¤ï¸",
  "Would you hug me tight if I was sad? ğŸ¤—",
  "Do you see us together forever? ğŸ’",
  "Would you surprise me with chocolate? ğŸ«",
  "Do you secretly smile when you see my texts? ğŸ˜Š",
  "Would you dance with me in the rain? ğŸŒ§ï¸ğŸ’ƒ",
  "Do you believe we are soulmates? âœ¨",
  "Do you want to travel the world with me? ğŸŒâœˆï¸",
  "Will you always support my dreams? ğŸŒŸ",
  "Do you like my smile? ğŸ˜",
  "Would you cuddle with me every night? ğŸ›Œâ¤ï¸",
  "Do you want to grow old together? ğŸ‘µğŸ‘´",
  "Will you keep our secrets safe? ğŸ¤«",
  "Do you like writing love notes to me? ğŸ’Œ",
  "Will you forgive me if I make mistakes? ğŸ’",
  "Do you want to make me breakfast someday? ğŸ³",
  "Do you love my quirks? ğŸ˜˜",
  "Would you laugh with me even on bad days? ğŸ˜‚",
  "Do you feel connected to me even when apart? ğŸ’–",
  "Will you dance with me at every wedding? ğŸ’ƒğŸ•º",
  "Do you believe in our forever? ğŸŒˆ",
  "Will you send me random cute messages just because? ğŸ’Œ"
];
const randomIndex = Math.floor(Math.random()*questions.length);
const questionText = questions[randomIndex];
document.getElementById("question").innerText = questionText;

// --- Firebase Config ---
const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
  databaseURL: "https://YOUR_PROJECT_ID-default-rtdb.firebaseio.com",
  projectId: "YOUR_PROJECT_ID",
  storageBucket: "YOUR_PROJECT_ID.appspot.com",
  messagingSenderId: "YOUR_SENDER_ID",
  appId: "YOUR_APP_ID"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.database();

// --- Load local answers ---
function loadLocalAnswers() {
  const answers = JSON.parse(localStorage.getItem("surveys")) || [];
  answerListEl.innerHTML = "";
  answers.forEach(a => {
    const li = document.createElement("li");
    li.textContent = `ğŸ“… ${a.date} - Q: ${a.question} A: ${a.answer}`;
    answerListEl.appendChild(li);
  });
}

// --- Save answer ---
function saveAnswer(answer) {
  if(!answer) return alert("Please enter an answer!");

  const data = { question: questionText, answer, date: new Date().toLocaleString() };

  // Save locally
  let answers = JSON.parse(localStorage.getItem("surveys")) || [];
  answers.push(data);
  localStorage.setItem("surveys", JSON.stringify(answers));

  // Save to shared vault
  db.ref("vault").push({ type: "survey", ...data });

  document.getElementById("thoughts").value = "";
  document.getElementById("status").innerText = "Answer saved locally & shared ğŸ’•";
  loadLocalAnswers();
}

// Initialize
loadLocalAnswers();
</script>
</body>
</html>
