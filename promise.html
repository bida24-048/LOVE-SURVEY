<!DOCTYPE html>
<html>
<head>
  <title>Daily Promise ğŸ’</title>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; background: #fff0f5; }
    textarea { width: 80%; height: 80px; border-radius: 10px; padding: 10px; border: 2px solid #ff4d88; resize: none; }
    button { margin: 10px; padding: 10px 20px; border-radius: 8px; font-size: 16px; cursor: pointer; background: #ff4d88; color: white; border: none; }
  </style>
</head>
<body>
  <h1>ğŸ’ Daily Promise</h1>
  <textarea id="promiseText" placeholder="Write your promise..."></textarea><br>
  <button onclick="savePromise()">Save ğŸ’Œ</button>
  <p id="status"></p>

  <h2>Promises ğŸ’–</h2>
  <ul id="promiseList"></ul>

  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

  <script>
    const promiseListEl = document.getElementById("promiseList");

    // --- Firebase Config ---
    const firebaseConfig = {
      apiKey: "AIzaSyCngJIx5fSznQSb9LX9ViP0JqX_homhycw",
      authDomain: "website-hub-80846.firebaseapp.com",
      databaseURL: "https://console.firebase.google.com/project/website-hub-80846/database/website-hub-80846-default-rtdb/data/~2F",
      projectId: "website-hub-80846",
      storageBucket: "website-hub-80846.firebasestorage.app",
      messagingSenderId: "58637132004",
      appId: "1:58637132004:web:8741fc3173ca41a8c20cf1"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    // --- Load promises in real-time ---
    function loadPromises() {
      db.ref("vault").on("value", snapshot => {
        const data = snapshot.val() || {};
        promiseListEl.innerHTML = ""; // clear list
        Object.values(data).forEach(item => {
          if(item.type === "promise") {
            const li = document.createElement("li");
            li.textContent = `ğŸ“… ${item.date} - ${item.text}`;
            promiseListEl.appendChild(li);
          }
        });
      });
    }

    // --- Save promise ---
    function savePromise() {
      const text = document.getElementById("promiseText").value.trim();
      if (!text) return alert("Please write a promise!");

      const data = { type: "promise", text: text, date: new Date().toLocaleDateString() };
      db.ref("vault").push(data); // Save to shared Vault

      document.getElementById("status").innerText = "Saved! ğŸ’–";
      document.getElementById("promiseText").value = "";
    }

    loadPromises();
  </script>
</body>
</html>

